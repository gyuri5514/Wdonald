<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wdelivery.faq.dao.FaqDAO">
	<select id="faqSelect" resultType="faqVO"> 
		SELECT * FROM faq ORDER BY faq_seq ASC
	</select>
	<select id="MenuSelect" resultType="faqVO"> 
		SELECT * FROM faq WHERE faq_name LIKE (concat('%',#{faq_name},'%')) ORDER BY faq_seq ASC
	</select>
	<select id="KeywordSelect" resultType="faqVO">
		SELECT * FROM faq WHERE faq_name LIKE '%'||#{MenuSelect}||'%' 
		AND (faq_title LIKE '%'||#{KeywordSelect}||'%' OR faq_content LIKE '%'||#{KeywordSelect}||'%') ORDER BY faq_seq ASC		
	</select>
	
	<select id="selectFaq" resultType="faqVO" parameterType="faqVO">
		<![CDATA[
			SELECT * FROM faq 
			ORDER BY faq_seq ASC
			LIMIT #{perPageNum} OFFSET #{pageStart}
		]]>
	</select>
	
	<select id="totalFaq" resultType="int">
		<![CDATA[
			select count(faq_seq) from faq where faq_seq > 0
		]]>
	</select>
</mapper>
