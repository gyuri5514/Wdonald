<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wdelivery.news.dao.NewsDAO">
	<select id="selectNews" resultType="hashmap" parameterType="hashmap">
		<![CDATA[
			SELECT * FROM news WHERE news_status = 2 ORDER BY news_code DESC LIMIT #{perPageNum} OFFSET #{pageStart}
		]]>
	</select>
	
	<select id="selectNewsNotice" resultType="newsVO">
		<![CDATA[
			SELECT * FROM news WHERE news_status = 1 ORDER BY news_code DESC
		]]>
	</select>
	
	<select id="detailNews" resultType="newsVO">
		<![CDATA[
			SELECT * FROM news WHERE news_code = #{news_code}
		]]>
	</select>
	
	<update id="countNews">
		<![CDATA[
			UPDATE news SET news_count = news_count + 1 WHERE news_code = #{news_code}
		]]>
	</update>
	
	<!-- 총 게시글 개수 출력 -->
	<select id="totalNews" resultType="Integer">
		<![CDATA[
			SELECT COUNT(*) FROM news
		]]>
	</select>
	
</mapper>